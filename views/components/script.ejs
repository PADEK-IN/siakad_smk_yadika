<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/script/chart/chart.min.js"></script>
<script src="/js/script/easing/easing.min.js"></script>
<script src="/js/script/waypoints/waypoints.min.js"></script>
<script src="/js/script/owlcarousel/owl.carousel.min.js"></script>
<script src="/js/script/tempusdominus/js/moment.min.js"></script>
<script src="/js/script/tempusdominus/js/moment-timezone.min.js"></script>
<script src="/js/script/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>



<script src="/js/main.js"></script>
<script>
    $("#logout").on("click", () => {
        $.ajax({
            url: "/api/auth/logout",
            method: "GET",
            contentType: "application/json",
            success: (response) => {
                alert(response.status.message);
                return window.location.href = `/`;
            },
            error: (response) => {
                const message = response.responseJSON.status.message
                alert(message);
            }
        });
    });

    $("#login").on("click", () => {
            const email = $("#email").val();
            const password = $("#password").val();
            $.ajax({
                url: "/api/auth/login",
                method: "POST",
                contentType: "application/json",
                data: JSON.stringify({email, password}),
                success: (response) => {
                    alert(response.status.message);
                    const role = response.data;
                    if(role == "admin") return window.location.href = `/${role}/dashboard`;
                    if(role == "guru") return window.location.href = `/teacher/dashboard`;
                    if(role == "murid") return window.location.href = `/${role}/dashboard`;
                },
                error: (response) => {
                    const message = response.responseJSON.status.message
                    alert(message);
                }
            });
        });
</script>